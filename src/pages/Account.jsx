import { SideBar } from "./components/SideBar";
import { UserAuth } from "../authentication/context/AuthContext";
import { signOut } from "firebase/auth";
import { Outlet, useNavigate } from "react-router-dom";
import { auth, database } from "../../firebase-config";
import { GetUser } from "./components/functions/functions";
import { useState, useEffect } from "react";
import { onValue, ref, update } from "firebase/database";
import "../styles/account.css";

export default function Account() {
  const navigate = useNavigate();
  const [openSide, setOpenSide] = useState(false);
  const [section, setSection] = useState("settings");

  const { user } = UserAuth();
  const userName = GetUser(user.uid);

  function LogOut() {
    signOut(auth);
    navigate("/");
    alert("You're logged out!");
  }

  useEffect(() => {
    if (openSide) {
      navigate(`/account/${section}`);
    }
  }, [openSide, section, navigate]);

  function handleAccountSection(accountSection) {
    setSection(accountSection);
    setOpenSide(true);
  }

  const [avatar, setAvatar] = useState(null);
  const handleAvatarChange = (e) => {
    const selectedAvatar = e.target.files[0];

    if (selectedAvatar) {
      setAvatar(URL.createObjectURL(selectedAvatar));
    }
  };

  return (
    <div class="accountPage">
      <SideBar />
      <div className="accountContainer">
        <div className="mainAccount">

          <div class="accountInfo">
          <div className="profPic shadow">
            <svg
              width="120"
              height="120"
              viewBox="0 0 120 120"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <circle cx="60" cy="60" r="60" fill="#F4F4F4" />
              <path
                d="M41.3438 88.375C36.2396 88.375 33.6875 86.7083 33.6875 83.375C33.6875 81.3333 34.3125 79.1562 35.5625 76.8438C36.8125 74.5312 38.6146 72.3542 40.9688 70.3125C43.3438 68.25 46.2083 66.5729 49.5625 65.2812C52.9375 63.9896 56.75 63.3438 61 63.3438C65.2292 63.3438 69.0208 63.9896 72.375 65.2812C75.75 66.5729 78.6146 68.25 80.9688 70.3125C83.3438 72.3542 85.1562 74.5312 86.4062 76.8438C87.6562 79.1562 88.2812 81.3333 88.2812 83.375C88.2812 86.7083 85.7292 88.375 80.625 88.375H41.3438ZM39.875 83.6562H82.125C82.5208 83.6562 82.8021 83.5938 82.9688 83.4688C83.1562 83.3438 83.25 83.1146 83.25 82.7812C83.25 81.4896 82.7604 80.0104 81.7812 78.3438C80.8229 76.6771 79.3958 75.0625 77.5 73.5C75.6042 71.9375 73.2708 70.6458 70.5 69.625C67.75 68.5833 64.5833 68.0625 61 68.0625C57.4167 68.0625 54.2396 68.5833 51.4688 69.625C48.6979 70.6458 46.3646 71.9375 44.4688 73.5C42.5729 75.0625 41.1354 76.6771 40.1562 78.3438C39.1979 80.0104 38.7188 81.4896 38.7188 82.7812C38.7188 83.1146 38.8021 83.3438 38.9688 83.4688C39.1562 83.5938 39.4583 83.6562 39.875 83.6562ZM61 59.4375C58.5208 59.4375 56.2604 58.7812 54.2188 57.4688C52.1771 56.1562 50.5417 54.3958 49.3125 52.1875C48.1042 49.9583 47.5 47.5104 47.5 44.8438C47.5 42.1979 48.1042 39.7917 49.3125 37.625C50.5417 35.4583 52.1771 33.7292 54.2188 32.4375C56.2604 31.1458 58.5208 30.5 61 30.5C63.5 30.5 65.7708 31.1354 67.8125 32.4062C69.8542 33.6771 71.4792 35.3958 72.6875 37.5625C73.8958 39.7083 74.5 42.1146 74.5 44.7812C74.5 47.4688 73.8854 49.9271 72.6562 52.1562C71.4479 54.3646 69.8229 56.1354 67.7812 57.4688C65.7396 58.7812 63.4792 59.4375 61 59.4375ZM61 54.7188C62.5417 54.7188 63.9479 54.2812 65.2188 53.4062C66.5104 52.5104 67.5417 51.3125 68.3125 49.8125C69.0833 48.2917 69.4688 46.6146 69.4688 44.7812C69.4688 42.9688 69.0833 41.3438 68.3125 39.9062C67.5625 38.4479 66.5417 37.3021 65.25 36.4688C63.9792 35.6354 62.5625 35.2188 61 35.2188C59.4583 35.2188 58.0417 35.6458 56.75 36.5C55.4792 37.3333 54.4583 38.4792 53.6875 39.9375C52.9167 41.3958 52.5312 43.0312 52.5312 44.8438C52.5312 46.6771 52.9167 48.3438 53.6875 49.8438C54.4792 51.3438 55.5104 52.5312 56.7812 53.4062C58.0729 54.2812 59.4792 54.7188 61 54.7188Z"
                fill="#7BBB96"
              />
            </svg>
          </div>
            <h2>{userName.username}</h2>
            <p>{user.email}</p>
          </div>

          <div class="creativeFieldsOptions">
            <p id="CreativeFieldsTitle">Creative Fields</p>
            <div class="FieldsRow">
              <div>
                <button class="FieldsOptions">
                  <svg
                    class="creativeSvg"
                    viewBox="0 0 24 29"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                    width="auto"
                    height="23"
                  >
                    <path
                      d="M13.793 28.4609C11.6602 28.4609 9.98047 28.0938 8.75391 27.3594C7.52734 26.625 6.91406 25.5977 6.91406 24.2773V22.918L8.25 24.3594L5.71875 24.6172C4.76562 24.7266 3.95703 24.5234 3.29297 24.0078C2.63672 23.5 2.30859 22.7188 2.30859 21.6641V19.4141C1.68359 19.25 1.19531 18.9414 0.84375 18.4883C0.492188 18.0273 0.316406 17.4922 0.316406 16.8828C0.316406 16.2188 0.515625 15.543 0.914062 14.8555L2.34375 12.2773C2.32812 12.1289 2.31641 11.9766 2.30859 11.8203C2.30078 11.6641 2.29688 11.4922 2.29688 11.3047C2.29688 9.6875 2.55078 8.22266 3.05859 6.91016C3.56641 5.58984 4.28906 4.45703 5.22656 3.51172C6.17188 2.55859 7.29688 1.82812 8.60156 1.32031C9.91406 0.804688 11.3672 0.546875 12.9609 0.546875C14.5625 0.546875 16.0195 0.808594 17.332 1.33203C18.6523 1.85547 19.7852 2.60156 20.7305 3.57031C21.6758 4.53906 22.4023 5.69922 22.9102 7.05078C23.4258 8.40234 23.6836 9.90234 23.6836 11.5508C23.6836 12.9648 23.4258 14.2852 22.9102 15.5117C22.4023 16.7383 21.6914 17.7539 20.7773 18.5586V24.2773C20.7773 25.5977 20.1523 26.625 18.9023 27.3594C17.6602 28.0938 15.957 28.4609 13.793 28.4609ZM13.793 26.5742C14.8555 26.5742 15.7656 26.4688 16.5234 26.2578C17.2812 26.0469 17.8633 25.7422 18.2695 25.3438C18.6836 24.9531 18.8906 24.4883 18.8906 23.9492L18.8789 17.6328C19.793 17.0547 20.5078 16.2266 21.0234 15.1484C21.5391 14.0625 21.7969 12.8633 21.7969 11.5508C21.7969 9.72266 21.4258 8.125 20.6836 6.75781C19.9492 5.39062 18.918 4.32813 17.5898 3.57031C16.2695 2.8125 14.7266 2.43359 12.9609 2.43359C11.2031 2.43359 9.66406 2.80078 8.34375 3.53516C7.03125 4.26953 6.00781 5.30078 5.27344 6.62891C4.54688 7.95703 4.18359 9.50391 4.18359 11.2695C4.18359 11.5039 4.19141 11.7383 4.20703 11.9727C4.23047 12.1992 4.25781 12.4258 4.28906 12.6523L2.54297 15.793C2.33203 16.1758 2.22656 16.5312 2.22656 16.8594C2.22656 17.1562 2.33203 17.3945 2.54297 17.5742C2.75391 17.7539 3.05078 17.8438 3.43359 17.8438H3.97266C4.04297 17.8438 4.09766 17.8594 4.13672 17.8906C4.17578 17.9219 4.19531 17.9648 4.19531 18.0195V21.5234C4.19531 21.9922 4.30469 22.3242 4.52344 22.5195C4.75 22.7148 5.06641 22.7891 5.47266 22.7422L8.48438 22.4023C8.55469 22.3945 8.60938 22.4102 8.64844 22.4492C8.6875 22.4805 8.70703 22.5352 8.70703 22.6133V23.9492C8.70703 24.7617 9.16016 25.4023 10.0664 25.8711C10.9727 26.3398 12.2148 26.5742 13.793 26.5742ZM5.90625 9.51172C5.90625 8.88672 6.0625 8.30078 6.375 7.75391C6.69531 7.20703 7.12109 6.78125 7.65234 6.47656L8.20312 7.46094C7.83594 7.67188 7.54688 7.96094 7.33594 8.32812C7.125 8.6875 7.01953 9.07812 7.01953 9.5C7.01953 10.2031 7.24219 10.7656 7.6875 11.1875C8.13281 11.6016 8.71875 11.8086 9.44531 11.8086C10.1562 11.8086 10.7266 11.6289 11.1562 11.2695C11.5859 10.9102 11.8008 10.4336 11.8008 9.83984C11.8008 9.45703 11.6875 9.16016 11.4609 8.94922C11.3516 8.83984 11.2539 8.74609 11.168 8.66797C11.0898 8.58203 11.0508 8.45703 11.0508 8.29297C11.0508 8.15234 11.1016 8.03516 11.2031 7.94141C11.3047 7.83984 11.4336 7.78906 11.5898 7.78906C11.7617 7.78906 11.9492 7.875 12.1523 8.04688C12.3945 8.24219 12.5781 8.5 12.7031 8.82031C12.8359 9.13281 12.9023 9.48047 12.9023 9.86328C12.9023 10.7773 12.582 11.5156 11.9414 12.0781C11.3008 12.6406 10.4648 12.9219 9.43359 12.9219C8.37891 12.9219 7.52734 12.6094 6.87891 11.9844C6.23047 11.3516 5.90625 10.5273 5.90625 9.51172ZM7.38281 6.67578C7.38281 6.01172 7.61719 5.46094 8.08594 5.02344C8.5625 4.57812 9.15625 4.35547 9.86719 4.35547C10.2109 4.35547 10.543 4.41016 10.8633 4.51953C11.1836 4.62891 11.4805 4.78906 11.7539 5L11.1094 5.91406C10.7266 5.61719 10.3125 5.46875 9.86719 5.46875C9.46875 5.46875 9.14062 5.58203 8.88281 5.80859C8.625 6.03516 8.49609 6.32422 8.49609 6.67578C8.49609 7.00391 8.60156 7.26953 8.8125 7.47266C9.03125 7.66797 9.31641 7.76562 9.66797 7.76562C9.82422 7.76562 9.95703 7.82031 10.0664 7.92969C10.1758 8.03906 10.2305 8.16797 10.2305 8.31641C10.2305 8.47266 10.1758 8.60547 10.0664 8.71484C9.95703 8.82422 9.82422 8.87891 9.66797 8.87891C8.98828 8.87891 8.4375 8.67578 8.01562 8.26953C7.59375 7.86328 7.38281 7.33203 7.38281 6.67578ZM10.2773 6.52344C10.3086 5.71094 10.5859 5.05078 11.1094 4.54297C11.6406 4.02734 12.3086 3.76953 13.1133 3.76953C13.4961 3.76953 13.8555 3.84766 14.1914 4.00391C14.5273 4.16016 14.8164 4.37109 15.0586 4.63672C15.1289 4.62109 15.1953 4.61328 15.2578 4.61328C15.3203 4.60547 15.3828 4.60156 15.4453 4.60156C16.2188 4.60156 16.8711 4.87891 17.4023 5.43359C17.9414 5.98828 18.2109 6.67969 18.2109 7.50781C18.2109 8.17188 18.0898 8.70312 17.8477 9.10156C17.6055 9.49219 17.3008 9.80859 16.9336 10.0508C16.5742 10.2852 16.2148 10.4961 15.8555 10.6836C15.4961 10.8633 15.1914 11.0664 14.9414 11.293C14.6992 11.5195 14.5781 11.8242 14.5781 12.207C14.5781 12.5508 14.7188 12.8125 15 12.9922C15.2891 13.1719 15.7109 13.2617 16.2656 13.2617C16.3359 13.2617 16.4141 13.2617 16.5 13.2617C16.5938 13.2539 16.6836 13.25 16.7695 13.25C16.9336 13.25 17.0156 13.3242 17.0156 13.4727C17.0156 13.9102 17.0898 14.2695 17.2383 14.5508C17.3945 14.8242 17.5938 14.9609 17.8359 14.9609C18.1172 14.9609 18.3594 14.7383 18.5625 14.293C18.7656 13.8477 18.8672 13.3008 18.8672 12.6523C18.8672 12.3789 18.8555 12.1328 18.832 11.9141C18.8086 11.6875 18.7852 11.457 18.7617 11.2227L19.8867 10.8945C19.9102 11.1367 19.9297 11.3984 19.9453 11.6797C19.9688 11.9531 19.9805 12.2812 19.9805 12.6641C19.9805 13.6562 19.7812 14.4727 19.3828 15.1133C18.9844 15.7539 18.4688 16.0742 17.8359 16.0742C17.3984 16.0742 17.0195 15.9102 16.6992 15.582C16.3789 15.2461 16.1758 14.8047 16.0898 14.2578C16.0273 14.2578 15.9727 14.2578 15.9258 14.2578C15.8789 14.2578 15.832 14.2578 15.7852 14.2578C15.1055 14.2578 14.5469 14.0664 14.1094 13.6836C13.6797 13.3008 13.4648 12.8125 13.4648 12.2188C13.4648 11.6875 13.5859 11.2617 13.8281 10.9414C14.0781 10.6133 14.3828 10.3398 14.7422 10.1211C15.1016 9.90234 15.4609 9.6875 15.8203 9.47656C16.1797 9.26562 16.4805 9.01172 16.7227 8.71484C16.9648 8.41016 17.0859 8.00781 17.0859 7.50781C17.0859 7 16.918 6.57813 16.582 6.24219C16.2461 5.89844 15.832 5.72656 15.3398 5.72656C15.2539 5.72656 15.1758 5.73047 15.1055 5.73828C15.043 5.73828 14.9805 5.74609 14.918 5.76172C14.6445 5.83203 14.4766 5.80078 14.4141 5.66797C14.3047 5.42578 14.1328 5.23438 13.8984 5.09375C13.6641 4.95312 13.4023 4.88281 13.1133 4.88281C12.6211 4.88281 12.2148 5.04297 11.8945 5.36328C11.5742 5.67578 11.4023 6.07422 11.3789 6.55859C11.3711 6.72266 11.3164 6.85938 11.2148 6.96875C11.1133 7.07031 10.9805 7.12109 10.8164 7.12109C10.6523 7.12109 10.5195 7.06641 10.418 6.95703C10.3164 6.83984 10.2695 6.69531 10.2773 6.52344ZM16.6992 11.8555C16.6992 11.707 16.7539 11.5781 16.8633 11.4688C16.9805 11.3516 17.1133 11.2969 17.2617 11.3047C17.9023 11.3516 18.4141 11.2148 18.7969 10.8945C19.1797 10.5742 19.3711 10.1289 19.3711 9.55859C19.3711 8.99609 19.1953 8.55469 18.8438 8.23438C18.5 7.91406 18.0508 7.76953 17.4961 7.80078L17.6602 6.66406C18.4961 6.73438 19.1758 7.03906 19.6992 7.57812C20.2227 8.11719 20.4844 8.77734 20.4844 9.55859C20.4844 10.4727 20.1836 11.1953 19.582 11.7266C18.9805 12.25 18.1992 12.4805 17.2383 12.418C17.082 12.4023 16.9531 12.3438 16.8516 12.2422C16.75 12.1328 16.6992 12.0039 16.6992 11.8555ZM14.0625 12.4531L14.4258 13.5078C14.1758 13.5938 13.9141 13.6602 13.6406 13.707C13.3672 13.7461 13.1016 13.7656 12.8438 13.7656C12.2109 13.7656 11.625 13.6445 11.0859 13.4023C10.5547 13.1602 10.1367 12.8359 9.83203 12.4297L10.7578 11.668C10.8828 11.957 11.1523 12.1953 11.5664 12.3828C11.9805 12.5625 12.4336 12.6523 12.9258 12.6523C13.1211 12.6523 13.3164 12.6367 13.5117 12.6055C13.7148 12.5664 13.8984 12.5156 14.0625 12.4531ZM12.082 8.64453C12.5898 8.58984 12.957 8.44922 13.1836 8.22266C13.418 7.98828 13.5352 7.63672 13.5352 7.16797C13.5352 7.01953 13.5898 6.89062 13.6992 6.78125C13.8086 6.67188 13.9375 6.61719 14.0859 6.61719C14.2344 6.61719 14.3633 6.67578 14.4727 6.79297C14.5898 6.90234 14.6484 7.02734 14.6484 7.16797C14.6484 7.88672 14.4609 8.46094 14.0859 8.89062C13.7109 9.32031 13.1641 9.59375 12.4453 9.71094L12.082 8.64453Z"
                      fill="#7BBB96"
                    />
                  </svg>
                  <p>Psychology</p>
                </button>
              </div>
              <button class="FieldsOptions">
                <svg
                  width="30"
                  height="23"
                  viewBox="0 0 30 23"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M4.28906 22.3438C3.0625 22.3438 2.14062 22.0391 1.52344 21.4297C0.914062 20.8281 0.609375 19.9219 0.609375 18.7109V6.44141C0.609375 5.23828 0.914062 4.33594 1.52344 3.73438C2.14062 3.125 3.0625 2.82031 4.28906 2.82031H7.55859C8.01953 2.82031 8.35938 2.76562 8.57812 2.65625C8.79688 2.53906 9.03516 2.33594 9.29297 2.04688L10.2305 0.992188C10.5273 0.671875 10.8477 0.425781 11.1914 0.253906C11.543 0.0820312 12.0195 -0.00390625 12.6211 -0.00390625H17.2969C17.8984 -0.00390625 18.375 0.0820312 18.7266 0.253906C19.0781 0.425781 19.3984 0.671875 19.6875 0.992188L20.625 2.04688C20.8047 2.24219 20.9648 2.39844 21.1055 2.51562C21.2539 2.625 21.4219 2.70312 21.6094 2.75C21.7969 2.79688 22.0469 2.82031 22.3594 2.82031H25.7109C26.9297 2.82031 27.8477 3.125 28.4648 3.73438C29.082 4.33594 29.3906 5.23828 29.3906 6.44141V18.7109C29.3906 19.9219 29.082 20.8281 28.4648 21.4297C27.8477 22.0391 26.9297 22.3438 25.7109 22.3438H4.28906ZM4.3125 20.457H25.6758C26.2539 20.457 26.7031 20.3047 27.0234 20C27.3438 19.6875 27.5039 19.2266 27.5039 18.6172V6.54688C27.5039 5.9375 27.3438 5.48047 27.0234 5.17578C26.7031 4.86328 26.2539 4.70703 25.6758 4.70703H21.8906C21.3594 4.70703 20.9297 4.64844 20.6016 4.53125C20.2812 4.40625 19.9727 4.17969 19.6758 3.85156L18.7617 2.82031C18.4258 2.44531 18.1289 2.19531 17.8711 2.07031C17.6133 1.94531 17.2266 1.88281 16.7109 1.88281H13.207C12.6914 1.88281 12.3047 1.94531 12.0469 2.07031C11.7891 2.19531 11.4922 2.44531 11.1562 2.82031L10.2422 3.85156C9.94531 4.17969 9.63281 4.40625 9.30469 4.53125C8.98438 4.64844 8.55859 4.70703 8.02734 4.70703H4.3125C3.73438 4.70703 3.28516 4.86328 2.96484 5.17578C2.65234 5.48047 2.49609 5.9375 2.49609 6.54688V18.6172C2.49609 19.2266 2.65234 19.6875 2.96484 20C3.28516 20.3047 3.73438 20.457 4.3125 20.457ZM15 18.7695C14.1094 18.7695 13.2773 18.6055 12.5039 18.2773C11.7305 17.9492 11.0508 17.4922 10.4648 16.9062C9.88672 16.3203 9.42969 15.6406 9.09375 14.8672C8.76562 14.0938 8.60156 13.2578 8.60156 12.3594C8.60156 11.4688 8.76562 10.6367 9.09375 9.86328C9.42969 9.08984 9.88672 8.41016 10.4648 7.82422C11.0508 7.23828 11.7305 6.78125 12.5039 6.45312C13.2773 6.125 14.1094 5.96094 15 5.96094C16.1797 5.96094 17.2539 6.24609 18.2227 6.81641C19.1914 7.38672 19.9609 8.15625 20.5312 9.125C21.1016 10.0938 21.3867 11.1719 21.3867 12.3594C21.3867 13.2578 21.2227 14.0938 20.8945 14.8672C20.5664 15.6406 20.1094 16.3203 19.5234 16.9062C18.9375 17.4922 18.2578 17.9492 17.4844 18.2773C16.7109 18.6055 15.8828 18.7695 15 18.7695ZM15 16.9883C15.8516 16.9883 16.625 16.7812 17.3203 16.3672C18.0234 15.9531 18.582 15.3984 18.9961 14.7031C19.4102 14 19.6172 13.2188 19.6172 12.3594C19.6172 11.5078 19.4102 10.7344 18.9961 10.0391C18.582 9.33594 18.0234 8.77734 17.3203 8.36328C16.625 7.94141 15.8516 7.73047 15 7.73047C14.1484 7.73047 13.3711 7.94141 12.668 8.36328C11.9727 8.77734 11.4141 9.33594 10.9922 10.0391C10.5781 10.7344 10.3711 11.5078 10.3711 12.3594C10.3711 13.2188 10.5781 14 10.9922 14.7031C11.4141 15.3984 11.9727 15.9531 12.668 16.3672C13.3711 16.7812 14.1484 16.9883 15 16.9883ZM21.8672 8.04688C21.8672 7.65625 22.0117 7.31641 22.3008 7.02734C22.5898 6.73828 22.9375 6.59375 23.3438 6.59375C23.7344 6.59375 24.0742 6.73828 24.3633 7.02734C24.6523 7.31641 24.7969 7.65625 24.7969 8.04688C24.7969 8.45312 24.6523 8.79688 24.3633 9.07812C24.0742 9.35938 23.7344 9.5 23.3438 9.5C22.9375 9.5 22.5898 9.36328 22.3008 9.08984C22.0117 8.80859 21.8672 8.46094 21.8672 8.04688Z"
                    fill="#7BBB96"
                  />
                </svg>
                <p>Photography</p>
              </button>
              <button class="FieldsOptions">
                <svg
                  width="16"
                  height="25"
                  viewBox="0 0 16 25"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M15.1484 6.375C15.1484 6.57031 15.0898 6.73828 14.9727 6.87891C14.8555 7.01172 14.6992 7.10156 14.5039 7.14844L9.14844 8.32031C8.86719 8.38281 8.68359 8.46875 8.59766 8.57812C8.51953 8.67969 8.48047 8.88281 8.48047 9.1875V19.9102C8.48047 20.7617 8.33984 21.4844 8.05859 22.0781C7.77734 22.6797 7.41406 23.1641 6.96875 23.5312C6.53125 23.8984 6.0625 24.1641 5.5625 24.3281C5.07031 24.5 4.60938 24.5859 4.17969 24.5859C3.20312 24.5859 2.40234 24.3008 1.77734 23.7305C1.16016 23.168 0.851562 22.4375 0.851562 21.5391C0.851562 20.6562 1.13281 19.9219 1.69531 19.3359C2.25781 18.75 3.125 18.332 4.29688 18.082L6.16016 17.6953C6.70703 17.5859 6.94922 17.2344 6.88672 16.6406L6.86328 3.60938C6.86328 2.96094 7.25 2.55078 8.02344 2.37891L14.0469 1.06641C14.3438 1.00391 14.6016 1.0625 14.8203 1.24219C15.0391 1.41406 15.1484 1.65625 15.1484 1.96875V6.375Z"
                    fill="#7BBB96"
                  />
                </svg>
                <p>Music</p>
              </button>
              <button class="FieldsOptions">
                <svg
                  width="22"
                  height="21"
                  viewBox="0 0 22 21"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M0.945312 10.5391C0.945312 10.0469 1.11719 9.62891 1.46094 9.28516C1.8125 8.93359 2.23438 8.75781 2.72656 8.75781H9.23047V2.26562C9.23047 1.77344 9.40234 1.35547 9.74609 1.01172C10.0898 0.660156 10.5078 0.484375 11 0.484375C11.4922 0.484375 11.9102 0.660156 12.2539 1.01172C12.6055 1.35547 12.7812 1.77344 12.7812 2.26562V8.75781H19.2852C19.7695 8.75781 20.1836 8.93359 20.5273 9.28516C20.8789 9.62891 21.0547 10.0469 21.0547 10.5391C21.0547 11.0312 20.8789 11.4531 20.5273 11.8047C20.1836 12.1484 19.7695 12.3203 19.2852 12.3203H12.7812V18.8242C12.7812 19.3086 12.6055 19.7227 12.2539 20.0664C11.9102 20.418 11.4922 20.5938 11 20.5938C10.5078 20.5938 10.0898 20.418 9.74609 20.0664C9.40234 19.7227 9.23047 19.3086 9.23047 18.8242V12.3203H2.72656C2.23438 12.3203 1.8125 12.1484 1.46094 11.8047C1.11719 11.4531 0.945312 11.0312 0.945312 10.5391Z"
                    fill="#7BBB96"
                  />
                </svg>
              </button>
            </div>
          </div>
          <div className="manageAccountContainer">
            <h3>Manage Your Account</h3>

            <div className="manageAccountOptions">
              <button
                className="flex-row"
                id="settings"
                onClick={() => handleAccountSection("settings")}
              >
                <p>Settings</p>
                <svg
                  width="13"
                  height="21"
                  viewBox="0 0 13 21"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M12.2305 10.5928C12.2305 10.7412 12.1992 10.8818 12.1367 11.0146C12.082 11.1396 12 11.2568 11.8906 11.3662L2.60938 20.4482C2.39844 20.6592 2.14062 20.7646 1.83594 20.7646C1.64062 20.7646 1.46094 20.7178 1.29688 20.624C1.13281 20.5303 1.00391 20.4014 0.910156 20.2373C0.816406 20.0811 0.769531 19.9014 0.769531 19.6982C0.769531 19.4092 0.871094 19.1553 1.07422 18.9365L9.60547 10.5928L1.07422 2.24902C0.871094 2.03027 0.769531 1.77637 0.769531 1.4873C0.769531 1.28418 0.816406 1.10449 0.910156 0.948242C1.00391 0.78418 1.13281 0.655273 1.29688 0.561523C1.46094 0.467773 1.64062 0.420898 1.83594 0.420898C2.14062 0.420898 2.39844 0.522461 2.60938 0.725586L11.8906 9.81934C12 9.92871 12.082 10.0498 12.1367 10.1826C12.1992 10.3076 12.2305 10.4443 12.2305 10.5928Z"
                    fill="var(--text)"
                  />
                </svg>
              </button>

              <button
                className="flex-row"
                id="sub"
                onClick={() => handleAccountSection("subscription")}
              >
                <p>Subscription</p>
                <svg
                  width="13"
                  height="21"
                  viewBox="0 0 13 21"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M12.2305 10.5928C12.2305 10.7412 12.1992 10.8818 12.1367 11.0146C12.082 11.1396 12 11.2568 11.8906 11.3662L2.60938 20.4482C2.39844 20.6592 2.14062 20.7646 1.83594 20.7646C1.64062 20.7646 1.46094 20.7178 1.29688 20.624C1.13281 20.5303 1.00391 20.4014 0.910156 20.2373C0.816406 20.0811 0.769531 19.9014 0.769531 19.6982C0.769531 19.4092 0.871094 19.1553 1.07422 18.9365L9.60547 10.5928L1.07422 2.24902C0.871094 2.03027 0.769531 1.77637 0.769531 1.4873C0.769531 1.28418 0.816406 1.10449 0.910156 0.948242C1.00391 0.78418 1.13281 0.655273 1.29688 0.561523C1.46094 0.467773 1.64062 0.420898 1.83594 0.420898C2.14062 0.420898 2.39844 0.522461 2.60938 0.725586L11.8906 9.81934C12 9.92871 12.082 10.0498 12.1367 10.1826C12.1992 10.3076 12.2305 10.4443 12.2305 10.5928Z"
                    fill="var(--text)"
                  />
                </svg>
              </button>

              <button
                className="flex-row"
                id="security"
                onClick={() => handleAccountSection("security")}
              >
                <p>Security & Privacy</p>
                <svg
                  width="13"
                  height="21"
                  viewBox="0 0 13 21"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M12.2305 10.5928C12.2305 10.7412 12.1992 10.8818 12.1367 11.0146C12.082 11.1396 12 11.2568 11.8906 11.3662L2.60938 20.4482C2.39844 20.6592 2.14062 20.7646 1.83594 20.7646C1.64062 20.7646 1.46094 20.7178 1.29688 20.624C1.13281 20.5303 1.00391 20.4014 0.910156 20.2373C0.816406 20.0811 0.769531 19.9014 0.769531 19.6982C0.769531 19.4092 0.871094 19.1553 1.07422 18.9365L9.60547 10.5928L1.07422 2.24902C0.871094 2.03027 0.769531 1.77637 0.769531 1.4873C0.769531 1.28418 0.816406 1.10449 0.910156 0.948242C1.00391 0.78418 1.13281 0.655273 1.29688 0.561523C1.46094 0.467773 1.64062 0.420898 1.83594 0.420898C2.14062 0.420898 2.39844 0.522461 2.60938 0.725586L11.8906 9.81934C12 9.92871 12.082 10.0498 12.1367 10.1826C12.1992 10.3076 12.2305 10.4443 12.2305 10.5928Z"
                    fill="var(--text)"
                  />
                </svg>
              </button>
            </div>

            <button id="logout" onClick={LogOut}>
              Log Out
            </button>
          </div>
        </div>
        <div
          className="sideAccount"
          style={{
            display: openSide ? "block" : "none",

            transition: "right 0.3s ease-in-out",
          }}
        >
          <Outlet />
        </div>
      </div>
    </div>
  );
}

export function Settings({ setTheme, setAccColor }) {
  const { user } = UserAuth();
  const userID = user.uid;

  useEffect(() => {
    const themeRef = ref(database, `users/${userID}/theme`);

    onValue(themeRef, (snapshot) => {
      const theme = snapshot.val();
      if (theme) {
        setTheme(theme);
      }
    });
  }, [userID, setTheme]);

  const switchTheme = (selectedTheme) => {
    setTheme(selectedTheme);
    update(ref(database, `users/${userID}`), { theme: selectedTheme }); // Update the theme in the database
  };

  const setLightTheme = () => {
    switchTheme("light");
  };

  const setDarkTheme = () => {
    switchTheme("dark");
  };

  useEffect(() => {
    const accColorRef = ref(database, `users/${userID}/color`);
    onValue(accColorRef, (snapshot) => {
      const color = snapshot.val();
      if (color) {
        setAccColor(color);
      }
    });
  }, [userID, setAccColor]);

  const setAccentColor = (selectedColor) => {
    setAccColor(selectedColor);
    update(ref(database, `users/${userID}`), { color: selectedColor });
  };

  return (
    <>
      <h2>
        Account<span>/Settings</span>
      </h2>
      <h3>Mail Notifications</h3>
      {/* (if notifications == true ? <p>I want to receive mail notifications</p> : <p>I don't want to receive mail notifications</p>) */}
      <p>I don't want to receive mail notifications</p>
      <h3>Customization</h3>
      <p>Themes</p>
      <div className="lightdark">
        <button class="lightcolor" onClick={setLightTheme}>
          <p class="lighttext">Light</p>
        </button>
        <button class="darkcolor" onClick={setDarkTheme}>
          <p class="darktext">Dark</p>
        </button>
      </div>
      <p>Accent Colour</p>
      <div className="colors">
        <button
          id="green"
          onClick={() => {
            setAccentColor("green");
          }}
        ></button>
        <button
          id="red"
          onClick={() => {
            setAccentColor("red");
          }}
        ></button>
        <button
          id="purple"
          onClick={() => {
            setAccentColor("purple");
          }}
        ></button>
        <button
          id="yellow"
          onClick={() => {
            setAccentColor("yellow");
          }}
        ></button>
        <button
          id="orange"
          onClick={() => {
            setAccentColor("orange");
          }}
        ></button>
        <button
          id="blue"
          onClick={() => {
            setAccentColor("blue");
          }}
        ></button>
        <button
          id="pink"
          onClick={() => {
            setAccentColor("pink");
          }}
        ></button>
      </div>
      <p>Custom Toolbar</p>
      <p>Custom Week Display</p>
      <p>Custom Date Format</p>
    </>
  );
}

export function Subscription() {
  const { user } = UserAuth();
  const userName = GetUser(user.uid);
  return (
    <>
      <h2>
        Account<span>/Subscription</span>
      </h2>
      <h3>Current Plans</h3>
      <fieldset>
        <div>
          <input type="radio" id="premium" value="premium" />
          <label>Premium</label>
          <ul>
            <li>Renew The Streak</li>
            <li>Generate New Prompt</li>
            <li>More Creativity Boosters</li>
            <li>SoMe Integration</li>
          </ul>
          
        </div>
        <div>
          <input type="radio" id="standard" value="standard" />
          <label>Standard</label>
        </div>
      </fieldset>
      <h3>Payment Method</h3>
      <div class="plan">
        <button>Manage Your Plan</button>
        <button>Cancel Your Plan</button>
      </div>
    </>
  );
}

export function SecurityPrivacy() {
  const { user } = UserAuth();
  const userName = GetUser(user.uid);

  console.log(userName);

  return (
    <>
      <h2>
        Account<span>/Security & Privacy</span>
      </h2>

      <h3>General Info</h3>
      <p>name: {userName.username}</p>
      <p>email: {user.email}</p>
      <p>password: ********</p>
      <button>View info</button>
      <button>Edit</button>

      <h3>PIN Code</h3>
      <button>View</button>
      <button>Edit</button>

      <h3>Danger Zone</h3>
      <button>Delete Account</button>
    </>
  );
}
